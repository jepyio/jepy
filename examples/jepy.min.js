var jepy=function(){"use strict";class t{render(){}}const s=(t,s)=>t.includes(".")?t.split(".").reduce(((t,s)=>t?.[s]),s):s[t],e="$",r="%",n="@";return{Composite:class extends t{constructor(t){super(),this.t=t}render(t){return this.t.map((s=>s.render(t))).join("")}},Conditional:class extends t{constructor(t,s,e){super(),this.i=t,this.o=s,this.u=e}render(t){return this.i(t)?this.o.render(t):this.u?this.u.render(t):""}},Placeholder:class extends t{constructor(t,s){super(),this.h=t,this.l=s}render(i){let c=this.h;return void 0!==this.l&&(c=this.p(c,n,(e=>{let r=s(e,this.l);"function"==typeof r&&(r=r(i));return"object"==typeof r&&r instanceof t?r.render(i):r}))),i&&(c=this.p(c,r,(t=>s(t,i))),c=this.p(c,e,(t=>{const e=s(t,i);return"string"==typeof e?this.g(e):e}))),c}p(t,s,e){const r=new RegExp("\\"+s+"\\{(\\w*(?:\\.\\w*)*)\\}","g"),n=t.matchAll(r);for(const s of n)t=t.replaceAll(s[0],e(s[1]));return t}g(t){return t.replace(/([<>&]|[^#-~| |!])/g,(t=>"&#"+t.charCodeAt(0)+";")).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,(t=>"&#"+(1024*t.charCodeAt(0)+t.charCodeAt(1)-56613888)+";"))}},Repeating:class extends t{constructor(t,s,e){super(),this.F=t,this.C=s,this.D=e}render(t){return s(this.F,t).map((s=>{const e=this.D?this.D(s,t):s;return this.C.render(e)})).join("")}},Simple:class extends t{constructor(t){super(),this.h=t}render(){return this.h}},Callback:class extends t{constructor(t){super(),this.j=t}render(t){return this.j(t)}}}}();