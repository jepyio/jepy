var jepy=function(){"use strict";class t{render(){}}const s=(t,s)=>t.includes(".")?t.split(".").reduce(((t,s)=>t?.[s]),s):s[t],e="$",r="%",n="@";return{Block:t,Composite:class extends t{constructor(t){super(),this.t=t}render(t){return this.t.map((s=>s.render(t))).join("")}},Conditional:class extends t{constructor(t,s,e){super(),this.i=t,this.h=s,this.u=e}render(t){return this.i(t)?this.h.render(t):this.u?this.u.render(t):""}},Placeholder:class extends t{constructor(t,s){super(),this.o=t,this.l=s}render(i){let h=this.o;return void 0!==this.l&&(h=this.p(h,n,(e=>{let r=s(e,this.l);"function"==typeof r&&(r=r(i));return"object"==typeof r&&r instanceof t?r.render(i):r}))),i&&(h=this.p(h,r,(t=>s(t,i))),h=this.p(h,e,(t=>{const e=s(t,i);return"string"==typeof e?this.g(e):e}))),h}p(t,s,e){for(const r of this.C(t,s))t=t.replaceAll(r[0],e(r[1]));return t}C(t,s){const e=new RegExp("\\"+s+"\\{(\\w*(?:\\.\\w*)*)\\}","g");let r,n=[];for(;null!==(r=e.exec(t));)n.push(r);return n}g(t){return t.replace(/([<>&]|[^#-~| |!])/g,(t=>"&#"+t.charCodeAt(0)+";")).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,(t=>"&#"+(1024*t.charCodeAt(0)+t.charCodeAt(1)-56613888)+";"))}},Repeating:class extends t{constructor(t,s,e){super(),this.F=t,this.D=s,this.B=e}render(t){return s(this.F,t).map((s=>{const e=this.B?this.B(s,t):s;return this.D.render(e)})).join("")}},Simple:class extends t{constructor(t){super(),this.o=t}render(){return this.o}},Callback:class extends t{constructor(t){super(),this._=t}render(t){return this._(t)}},Cached:class extends t{constructor(t,s){super(),this.j=t,this.k=s||(()=>!0),this.m=null}render(t){return null!==this.m&&this.k(t,this)||(this.m=this.j.render(t)),this.m}}}}();