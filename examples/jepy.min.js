var jepy=function(){"use strict";class t{render(){}}const s=(t,s)=>t.includes(".")?t.split(".").reduce(((t,s)=>t?.[s]),s):s[t],e="$",r="%",n="@";return{Composite:class extends t{constructor(t){super(),this.blocks_=t}render(t){return this.blocks_.map((s=>s.render(t))).join("")}},Conditional:class extends t{constructor(t,s,e){super(),this.conditionCallback_=t,this.blockOnTrue_=s,this.blockOnFalse_=e}render(t){return this.conditionCallback_(t)?this.blockOnTrue_.render(t):this.blockOnFalse_?this.blockOnFalse_.render(t):""}},Placeholder:class extends t{constructor(t,s){super(),this.content_=t,this.partials_=s}render(i){let o=this.content_;return void 0!==this.partials_&&(o=this.replaceTagsByPrefix_(o,n,(e=>{let r=s(e,this.partials_);"function"==typeof r&&(r=r(i));return"object"==typeof r&&r instanceof t?r.render(i):r}))),i&&(o=this.replaceTagsByPrefix_(o,r,(t=>s(t,i))),o=this.replaceTagsByPrefix_(o,e,(t=>{const e=s(t,i);return"string"==typeof e?this.escape_(e):e}))),o}replaceTagsByPrefix_(t,s,e){const r=new RegExp("\\"+s+"\\{(\\w*(?:\\.\\w*)*)\\}","g"),n=t.matchAll(r);for(const s of n)t=t.replaceAll(s[0],e(s[1]));return t}escape_(t){return t.replace(/([<>&]|[^#-~| |!])/g,(t=>"&#"+t.charCodeAt(0)+";")).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,(t=>"&#"+(1024*t.charCodeAt(0)+t.charCodeAt(1)-56613888)+";"))}},Repeating:class extends t{constructor(t,s,e){super(),this.path_=t,this.repeatingBlock_=s,this.callback_=e}render(t){return s(this.path_,t).map((s=>{const e=this.callback_?this.callback_(s,t):s;return this.repeatingBlock_.render(e)})).join("")}},Simple:class extends t{constructor(t){super(),this.content_=t}render(){return this.content_}}}}();